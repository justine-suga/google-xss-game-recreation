<!doctype html>
<html>
    <head>
        <script src="/static/game-frame.js"></script>
        <link rel="stylesheet" href="/static/game-frame-styles.css" />
    </head>
    <body id="level5">
        <img src="/static/logos/level5.png" /><br><br>
        Enter email: <input id="reader-email" name="email" value="">
        <br><br>
        <a id="confirm-link" href="/level5fix_confirm_csp3?next={{ next | e }}">Next >></a>
        <a href="/">
            <button>Back to Homepage</button>
        </a>

        <script nonce="{{ nonce }}">
            // Client-side protection to block dangerous 'javascript:' URLs
            document.getElementById('confirm-link').addEventListener('click', function(event) {
                var href = event.target.getAttribute('href');
                if (href.toLowerCase().startsWith('javascript:') || href.toLowerCase().startsWith('data:')) {
                    event.preventDefault();
                    alert('Nice try. Blocked potentially dangerous URL.');
                }
            });
        </script>
    </body>
</html>
